<header class="header">
    <div class="logo">Team AXORN</div>
    <button class="menu-btn" id="menuToggle">â˜°</button>
    
    <!-- Dropdown Menu -->
    <div class="dropdown-menu hidden" id="dropdownMenu">
        <a href="legal.html" class="dropdown-item">Legal</a>
        <div class="dropdown-divider"></div>
        <a href="profile.html" class="dropdown-item">Profile</a>
        <a href="#" class="dropdown-item" onclick="logout()">Logout</a>
        
        <!-- Admin Only Options -->
        <div id="adminOptions" class="hidden">
            <div class="dropdown-divider"></div>
            <a href="admin-logs.html" class="dropdown-item">Logs</a>
            <a href="admin-kick.html" class="dropdown-item">Kick User</a>
        </div>
    </div>
</header>

<style>
.dropdown-menu {
    position: absolute;
    top: 100%;
    right: 1rem;
    background: var(--card-bg);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--border-radius);
    padding: 0.5rem 0;
    min-width: 200px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    backdrop-filter: blur(10px);
}

.dropdown-item {
    display: block;
    padding: 0.8rem 1.5rem;
    color: var(--text-primary);
    text-decoration: none;
    transition: var(--transition);
}

.dropdown-item:hover {
    background: rgba(255, 255, 255, 0.1);
}

.dropdown-divider {
    height: 1px;
    background: rgba(255, 255, 255, 0.1);
    margin: 0.5rem 0;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const menuToggle = document.getElementById('menuToggle');
    const dropdownMenu = document.getElementById('dropdownMenu');
    
    if (menuToggle && dropdownMenu) {
        menuToggle.addEventListener('click', function() {
            dropdownMenu.classList.toggle('hidden');
        });
        
        // Close dropdown when clicking outside
        document.addEventListener('click', function(event) {
            if (!menuToggle.contains(event.target) && !dropdownMenu.contains(event.target)) {
                dropdownMenu.classList.add('hidden');
            }
        });
    }
    
    // Check if user is admin and show admin options
    checkAdminStatus();
});

async function checkAdminStatus() {
    try {
        const user = await getCurrentUser();
        const adminUsernames = ['krsxh', 'lord', 'teamaxorn', 'ghost'];
        
        if (adminUsernames.includes(user.username.toLowerCase())) {
            document.getElementById('adminOptions').classList.remove('hidden');
        }
    } catch (error) {
        console.error('Error checking admin status:', error);
    }
}
</script>
